package populatingNextRightPointersinEachNode;

//* Definition for binary tree with next pointer.
class TreeLinkNode {
	int val;
	TreeLinkNode left, right, next;

	TreeLinkNode(int x) {
		val = x;
	}
}

public class Solution {
	public void connect(TreeLinkNode root) {
		int last = 2;
		int cnt = 1;
		TreeLinkNode n = root;
		TreeLinkNode fa = null;
		TreeLinkNode first = root;
		while (n != null) {
			if (n == root) {
				n.next = null;
				fa = n;
				n = n.left;
				first = n;
			} else if (n == fa.left) {
				n.next = fa.right;
			} else {
				// right child
				if (fa.next != null) {
					n.next = fa.next.left;
				} else {
					// this is the last
					n.next = null;
					n = first;
					first = n.left;
				}
			}

		}
	}
}
