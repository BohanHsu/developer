package longestConsecutiveSequence;

import java.util.HashSet;
import java.util.Iterator;

public class Solution {
    HashSet<Integer> hs = new HashSet<Integer>();
    public int longestConsecutive(int[] num) {
        for (int i = 0; i < num.length; i++){
            hs.add(num[i]);
        }
        int max = 0;
        int x = 0;
        int cur = 0;
        
        Iterator<Integer> it = hs.iterator();
        while(it.hasNext()){
            x = it.next();
            cur = check(x) + checkLess(x) + checkGreater(x);
            if (cur > max){
                max = cur;
            }
        }
        return max;
    }
    
    private int check(int x){
        if (this.hs.contains(x)){
            this.hs.remove(x);
            return 1;
        } else{
            return 0;
        }
    }
    
    private int checkLess(int x){
        int c = check(x-1);
        if (c == 1){
            return c + checkLess(x-1);
        } else{
            return c;
        }
    }
    
    private int checkGreater(int x){
        int c = check(x+1);
        if (c == 1){
            return c + checkLess(x+1);
        } else{
            return c;
        }
    }
    
    public static void main(String[] args) {
		Solution s = new Solution();
		int[] num = new int[]{1,100,4,3,2,200};
		System.out.println(s.longestConsecutive(num));
	}
}