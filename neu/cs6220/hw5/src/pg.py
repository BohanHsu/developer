import numpy as np

a = np.matrix([
    [0, 0, 0, 1.0/2, 1.0/2, 0],
    [1.0/2, 1.0/3, 1, 0, 0, 1.0/2],
    [0, 0, 0, 1.0/2, 0, 1.0/2],
    [0, 1.0/3, 0, 0, 1.0/2, 0],
    [1.0/2, 0, 0, 0, 0, 0],
    [0, 1.0/3, 0, 0, 0, 0]
    ])

b = np.matrix([
    [1,1,1,1,1,1],
    [1,1,1,1,1,1],
    [1,1,1,1,1,1],
    [1,1,1,1,1,1],
    [1,1,1,1,1,1],
    [1,1,1,1,1,1]
    ])

#print b * 1.0 / 6
b = b * 1.0 / 6

#a = np.matrix([
#    [0, 0, 1, 1.0/2],
#    [1.0/3, 0, 0, 0],
#    [1.0/3, 1.0/2, 0, 1.0/2],
#    [1.0/3, 1.0/2, 0, 0],
#    ])
#
#b = np.matrix([
#    [1,1,1,1],
#    [1,1,1,1],
#    [1,1,1,1],
#    [1,1,1,1]
#    ])

print a
print b

p = 0.15
#p = 0
threshold = 0.001

r = np.matrix([[1.0/6], [1.0/6], [1.0/6], [1.0/6], [1.0/6], [1.0/6]])
#r = np.matrix([[1.0/4], [1.0/4], [1.0/4], [1.0/4]])

print r

m = (1-p) * a + p * b

for i in range(0,1000):
    oldr = r
    r = np.matrix.dot(m, oldr)
    print r

#diff = r - oldr

#print diff
